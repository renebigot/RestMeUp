{"name":"Restmeup","body":"#Simply way to create a RESTful API\r\n\r\nRestMeUp is a simple REST framework to simply create a RESTful application in PHP.\r\nI'm using it in a future version of my API since I wanted a simple way to turn it into a \"real world\" RESTful application.\r\n\r\n\r\n#How to use ?\r\n\r\nYou've got only 2 things to do :\r\n\r\n1.   create a BRRestMeUp child to hold your clients requests,\r\n2.   create a create a .htaccess to redirect URI to your BRRestMeUP child(ren).\r\n\r\n##Create a BRRestMeUp child\r\n\r\nExample, a simple API for candies (does nothing usefull but I think it's a good example).\r\nJust put the following code in index.php in the root folder of your webservice.\r\n\r\n```php\r\n<?php \r\n    include_once(\"RestMeUp/BRRestMeUp.php\");\r\n\r\n    class CandiesAPI extends BRRestMeUp {\r\n        protected $routes = \r\n        array (\r\n               \"create\" => array (\r\n                                  array (\"uri_preg\" => \"#^candies(.*)#\",\r\n                                         \"callback\" => \"createCandies\")\r\n                                  ),\r\n               \"read\" => array (\r\n                                array (\"uri_preg\" => \"#^candies(\\/*)$#\",\r\n                                       \"callback\" => \"listCandies\"),\r\n                                array (\"uri_preg\" => \"#^candies\\/chocolates(\\/*)#\",\r\n                                       \"callback\" => \"listChocolates\"),\r\n                                array (\"uri_preg\" => \"#^candies(.*)#\",\r\n                                       \"callback\" => \"listOthersCandiesType\")\r\n                                ),\r\n               \"update\" => array (\r\n                                  //don't want updates (for some reasons)\r\n                                  ),\r\n               \"delete\" => array (\r\n                                  array (\"uri_preg\" => \"#^candies(.*)#\",\r\n                                         \"callback\" => \"deleteCandies\")\r\n                                  )\r\n               );\r\n        \r\n        //CREATE\r\n        protected function createCandies() {\r\n            $argNumber = func_num_args();\r\n            $args = func_get_args();\r\n            \r\n            $candiesType = \"\";\r\n            \r\n            if ($argNumber != 3) {\r\n                $error = \"Your request is not implemented in this API\";\r\n                throw new BRRestMeUpException(501, $error);\r\n            }\r\n            \r\n            echo \"You are trying to create the \" . $args[2];\r\n            echo \" candy in the \" . $args[3] . \" category.\";\r\n        }\r\n        \r\n        //READ\r\n        protected function listCandies() {\r\n            echo \"This is a list of all known candies\\n\";\r\n        }\r\n        \r\n        protected function listChocolates() {\r\n            echo \"This is a list of all known candies with chocolates\\n\";\r\n        }\r\n        \r\n        protected function listOthersCandiesType() {\r\n            $argNumber = func_num_args();\r\n            $args = func_get_args();\r\n            \r\n            $candiesType = \"\";\r\n            \r\n            if ($argNumber >= 2) {\r\n                $candiesType = $args[1];\r\n                if ($candiesType != \"fudge\") {\r\n                    $error = $candiesType . \" candies should not be eaten !\";\r\n                    throw new BRRestMeUpException(400, $error);\r\n                }\r\n                echo \"Your candies are : \" . $candiesType . \"\\n\";\r\n            }\r\n            \r\n            if ($argNumber >= 3) {\r\n                echo \"This is a list of all ingredients in \" . $args[2] . \"\\n\";\r\n            }\r\n            \r\n            if ($argNumber >= 4) {\r\n                $error = \"You don't have access to the ingredients\\n\";\r\n                throw new BRRestMeUpException(403, $error);\r\n            }\r\n        }\r\n        \r\n        //DELETE\r\n        protected function deleteCandies() {\r\n            $argNumber = func_num_args();\r\n            $args = func_get_args();\r\n            \r\n            $candiesType = \"\";\r\n            \r\n            \r\n            if ($argNumber != 3) {\r\n                $error = \"Your request is not implemented in this API\";\r\n                throw new BRRestMeUpException(501, $error);\r\n            }\r\n            \r\n            echo \"You are trying to delete the \" . $args[2];\r\n            echo \" candy in the \" . $args[3] . \" category.\\n\";\r\n        }\r\n    }\r\n    \r\n    new CandiesAPI($_GET[\"uri\"]);\r\n    \r\n    ?>\r\n```\r\n\r\n##Create a .htaccess file\r\n\r\nHere is a simple .htaccess wich redirects all traffic to index.php\r\n\r\n```\r\n#Turn RewriteEngine on\r\nRewriteEngine on\r\n\r\n#Try to rewrite all URI if it's not a file\r\nRewriteCond %{REQUEST_FILENAME} !-f\r\n#Try to rewrite all URI if it's not a folder\r\n#RewriteCond %{REQUEST_FILENAME} !-d\r\n\r\n#Rewrite URI and give it to index.php\r\nRewriteRule ^(.*)$ /index.php?uri=$1 [L,QSA]\r\n\r\n```\r\n\r\n##License\r\nRestMeUp is licensed under the BSD license.\r\n\r\n\r\n##About the author\r\n\r\nRestMeUp is developed and maintained by Ren√© BIGOT\r\n\r\n[![](http://www.brae.fr/wp-content/themes/BRAE2/images/logo.png)](http://www.brae.fr)\r\n","tagline":"Very simple REST framework to simply create a RESTful application in PHP","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}